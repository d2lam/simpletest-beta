shared:
    image: node:6
jobs:
    test:
        steps:
            - export: export HELLO=" 123 spaces ' singequote \" double quote "; echo $HELLO
            - secret: echo $MYSECRET
            - ls: pwd; ls;
            - fail: . /sd/workspace/src/github.com/d2lam/simpletest-beta/script.sh; failstuff
            - teardown-env: . /tmp/buildEnv; echo $HELLO; ls /tmp/
            - teardown-secret: . /tmp/buildEnv; echo $MYSECRET;
        requires: [~pr, ~commit]
        secrets:
            - MYSECRET
    test-with-new-launcher:
        steps:
            - export1: export FOO=BAR
            - export2: export SINGLE_QUOTE="my ' single quote"
            - export3: export DOUBLE_QUOTE='my " double quote'
            - export4: export WEIRDCHAR="\!@#\$%^&*()_-+="
            - fail: failstuff
            - teardown-test: echo $FOO && echo $SINGLE_QUOTE && echo $DOUBLE_QUOTE && echo $MYSECRET && echo $WEIRDCHAR
            - teardown-ls: ls /tmp/
        secrets:
            - MYSECRET
        requires: [~pr, ~commit]
